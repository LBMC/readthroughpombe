// configuration option for the quality_control.nf Pipeline for SGE

params {
  global_executor = 'local'
  gzip = "gzip"
  pigz = "pigz"
  fastqc = "fastqc"
  urqt = "UrQt"
  file_handle = "file_handle.py"
  cutadapt = "cutadapt"
  file_handle_path = "file_handle.py"
  file_handle_module = "module load file_handle/${params.file_handle_version}"
  fastqc_module = "module load FastQC/${params.fastqc_version}"
  multiqc_module = "module load python/${params.python2_version}"
  urqt_module = "module load UrQt/${params.urqt_version}"
  cutadapt_module = "module load python/${params.python2_version}"
  pigz_module = "module load pigz/${params.pigz_version}"
  python2_unload_module = "module unload python/${params.python2_version}"
  python3_unload_module = "module unload python/${params.python3_version}"
  pbs_header = """
bash
source /usr/share/modules/init/bash
module use /applis/PSMN/Modules
module load Base/psmn
module load use.own
umask 002
ls .
  """
}

docker {
  enabled = false
}

process {
    $get_gz_version {
      executor = "local"
      cpus = 1
      memory = "2GB"
      time = "1h"
    }
    $get_file_name {
      executor = "sge"
      cpus = 4
      memory = "5GB"
      time = "2h"
      queueSize = 1000
      pollInterval = '60sec'
      queue = 'E5-2670deb128A,E5-2670deb128B,E5-2670deb128C,E5-2670deb128D,E5-2670deb128E,E5-2670deb128F'
      penv = 'openmp16'
    }
    $fastqc {
      executor = "sge"
      cpus = 1
      memory = "2GB"
      time = "10h"
      queueSize = 1000
      pollInterval = '60sec'
      queue = 'monointeldeb128, E5-2667v2h6deb128, E5-2667v2d2deb128'
    }
    $adaptor_removal {
      executor = "sge"
      cpus = 1
      memory = "2GB"
      time = "24h"
      queueSize = 1000
      pollInterval = '60sec'
      queue = 'monointeldeb128, E5-2667v2h6deb128, E5-2667v2d2deb128'
    }
    $trimming {
      executor = "sge"
      cpus = 4
      memory = "2GB"
      time = "24h"
      queueSize = 1000
      pollInterval = '60sec'
      queue = 'E5-2670deb128A,E5-2670deb128B,E5-2670deb128C,E5-2670deb128D,E5-2670deb128E,E5-2670deb128F'
      penv = 'openmp16'
    }
    $fastqc_trimmed {
      executor = "sge"
      cpus = 1
      memory = "5GB"
      time = "5h"
      queueSize = 1000
      pollInterval = '60sec'
      queue = 'monointeldeb128, E5-2667v2h6deb128, E5-2667v2d2deb128'
    }
    $multiqc {
      executor = "local"
      cpus = 1
      memory = "2GB"
      time = "1h"
    }
}
